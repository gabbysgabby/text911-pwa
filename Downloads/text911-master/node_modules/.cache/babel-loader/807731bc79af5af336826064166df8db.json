{"ast":null,"code":"import _classCallCheck from \"/Users/Gabby/Downloads/text911-pwa-feature-swipe-btn-3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Gabby/Downloads/text911-pwa-feature-swipe-btn-3/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Gabby/Downloads/text911-pwa-feature-swipe-btn-3/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Gabby/Downloads/text911-pwa-feature-swipe-btn-3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Gabby/Downloads/text911-pwa-feature-swipe-btn-3/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Gabby/Downloads/text911-pwa-feature-swipe-btn-3/src/components/App/App.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport escapeRegExp from 'escape-string-regexp';\nimport sortBy from 'sort-by';\nimport { MAP_API_KEY } from '../../utils/apiKeys';\nimport { getAll } from '../../utils/FoursquareAPI';\nimport Top from '../Top/Top';\nimport Filter from '../Filter/Filter';\nimport Map from '../Map/Map';\nimport Footer from '../Footer/Footer';\nimport Error from '../Error/Error';\nimport Modal from '../Common/Modal';\nimport './App.css'; // add i18n library\n// ask to allow location on modal\n// look into caching\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      modal: true,\n      map: true,\n      filter: false,\n      success: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"onSuccess\",\n    value: function onSuccess() {\n      this.setState({\n        success: true\n      });\n    }\n  }, {\n    key: \"maybeModal\",\n    value: function maybeModal() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          modal = _this$state.modal,\n          emergency = _this$state.emergency;\n\n      if (modal) {\n        return React.createElement(Modal, {\n          header: \"THIS IS A BETA, IN EMERGENCY CALL 911\",\n          para: \"you agree to our terms of use and allow us to access your location.\",\n          btnTxt: \"Agree\",\n          btnClick: function btnClick() {\n            return _this2.setState({\n              modal: false\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        });\n      }\n\n      if (emergency) {\n        return React.createElement(Modal, {\n          header: \"WHERE'S YOUR EMERGENCY?\",\n          para: \"For this app to work, we need your location, please enable GPS.\",\n          btnTxt: \"Agree\",\n          btnClick: function btnClick() {\n            return _this2.setState({\n              emergency: false\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"maybeMap\",\n    value: function maybeMap() {\n      var _this$state2 = this.state,\n          modal = _this$state2.modal,\n          map = _this$state2.map;\n      if (map) return React.createElement(Map, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      });\n      return null;\n    }\n  }, {\n    key: \"maybeFilter\",\n    value: function maybeFilter() {\n      var _this3 = this;\n\n      var _this$state3 = this.state,\n          filter = _this$state3.filter,\n          medical = _this$state3.medical,\n          police = _this$state3.police,\n          fire = _this$state3.fire;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Map, {\n        dragEnd: function dragEnd() {\n          return console.log('end');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(Filter, {\n        data: this.state,\n        onToggleOpen: this.onToggleOpen,\n        filterPlaces: this.filterPlaces,\n        onSuccess: function onSuccess() {\n          return _this3.onSuccess();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state4 = this.state,\n          modal = _this$state4.modal,\n          emergency = _this$state4.emergency,\n          filter = _this$state4.filter,\n          success = _this$state4.success;\n      if (success) return React.createElement(Redirect, {\n        push: true,\n        to: \"/details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, modal || emergency ? React.createElement(\"div\", {\n        className: \"modalContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }) : null, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.maybeModal()), this.maybeFilter());\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/Gabby/Downloads/text911-pwa-feature-swipe-btn-3/src/components/App/App.js"],"names":["React","Component","Redirect","escapeRegExp","sortBy","MAP_API_KEY","getAll","Top","Filter","Map","Footer","Error","Modal","App","props","state","modal","map","filter","success","setState","emergency","medical","police","fire","console","log","onToggleOpen","filterPlaces","onSuccess","maybeModal","maybeFilter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport escapeRegExp from 'escape-string-regexp';\nimport sortBy from 'sort-by';\nimport { MAP_API_KEY } from '../../utils/apiKeys';\nimport { getAll } from '../../utils/FoursquareAPI';\nimport Top from '../Top/Top';\nimport Filter from '../Filter/Filter';\nimport Map from '../Map/Map';\nimport Footer from '../Footer/Footer';\nimport Error from '../Error/Error';\nimport Modal from '../Common/Modal';\nimport './App.css';\n\n// add i18n library\n// ask to allow location on modal\n// look into caching\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: true,\n      map: true,\n      filter: false,\n      success: false\n    };\n  }\n\n  onSuccess() {\n    this.setState({ success: true })\n  }\n\n  maybeModal() {\n    const { modal, emergency } = this.state;\n    if (modal) {\n      return (\n        <Modal\n          header=\"THIS IS A BETA, IN EMERGENCY CALL 911\"\n          para=\"you agree to our terms of use and allow us to access your location.\"\n          btnTxt=\"Agree\"\n          btnClick={() => this.setState({ modal: false })}\n        />\n      );\n    } if (emergency) {\n      return (\n        <Modal\n          header=\"WHERE'S YOUR EMERGENCY?\"\n          para=\"For this app to work, we need your location, please enable GPS.\"\n          btnTxt=\"Agree\"\n          btnClick={() => this.setState({ emergency: false })}\n        />\n      );\n    }\n  }\n\n  maybeMap() {\n    const { modal, map } = this.state;\n    if (map) return <Map />;\n    return null;\n  }\n\n  maybeFilter() {\n    const { filter, medical, police, fire } = this.state;\n    return (\n      <div>\n        <Map\n          dragEnd={() => console.log('end')}\n        />\n        <Filter\n          data={this.state}\n          onToggleOpen={this.onToggleOpen}\n          filterPlaces={this.filterPlaces}\n          onSuccess={() => this.onSuccess()}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { modal, emergency, filter, success } = this.state;\n    if (success) return <Redirect push to=\"/details\" />;\n    return (\n      <div className=\"app\">\n        {\n          modal || emergency ?\n          <div className=\"modalContainer\" /> :\n          null\n        }\n        <div className=\"content\">\n          {this.maybeModal()}\n        </div>\n        {this.maybeFilter()}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}